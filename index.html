<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LHC Worship Prep Tool</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom scrollbar for a more modern look */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #2d3748; /* dark-gray-800 */
        }
        ::-webkit-scrollbar-thumb {
            background: #4a5568; /* dark-gray-600 */
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #718096; /* dark-gray-500 */
        }

        /* Style for the <details> summary arrow */
        summary::marker {
            color: #a0aec0; /* text-gray-400 */
        }

        /* Basic animation for collapsible sections */
        details > summary {
            list-style: none;
        }
        details[open] > summary ~ * {
            animation: sweep .5s ease-in-out;
        }
        @keyframes sweep {
            0%    {opacity: 0; transform: translateY(-10px)}
            100%  {opacity: 1; transform: translateY(0)}
        }
        
        /* Hide all page views by default */
        .page-view {
            display: none;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

    <div class="relative min-h-screen md:flex">
        <!-- START: Mobile Header -->
        <div class="bg-gray-800 text-gray-100 flex justify-between md:hidden">
            <a href="#" class="block p-4 text-white font-bold">LHC Worship Prep</a>
            <button id="mobile-menu-button" class="p-4 focus:outline-none focus:bg-gray-700">
                <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                </svg>
            </button>
        </div>
        <!-- END: Mobile Header -->

        <!-- START: Sidebar -->
        <aside id="sidebar" class="bg-gray-800 text-white w-72 space-y-6 py-7 px-2 absolute inset-y-0 left-0 transform -translate-x-full md:relative md:translate-x-0 transition duration-200 ease-in-out z-30 flex flex-col">
            <!-- Sidebar Header -->
            <div class="p-4 border-b border-gray-700 flex items-center space-x-3">
                 <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8 text-green-400">
                    <path stroke-linecap="round" stroke-linejoin="round" d="m9 9 10.5-3m0 6.553v3.75a2.25 2.25 0 0 1-1.632 2.163l-1.32.377a1.803 1.803 0 1 1-.99-3.467l2.31-.66a2.25 2.25 0 0 0 1.632-2.163Zm0 0V2.25L9 5.25v3.75M9 9l-3.75 1.5M9 9V2.25m0 0l-3.75 1.5M3 13.5l3.75-1.5m0 0L9 15l-3.75-1.5M9 15v3.75a2.25 2.25 0 0 1-1.632 2.163l-1.32.377a1.803 1.803 0 0 1-.99-3.467l2.31-.66A2.25 2.25 0 0 0 9 15Zm-6 0h3.75v3.75z" />
                </svg>
                <h1 class="text-xl font-bold tracking-wider">LHC Worship Prep</h1>
            </div>

            <!-- Sidebar Navigation -->
            <nav class="flex-1 p-4 space-y-4 overflow-y-auto">
                <!-- Section 1: Create Custom Songlist -->
                <details class="group" open>
                    <summary class="flex items-center justify-between cursor-pointer py-2 px-3 rounded-md hover:bg-gray-700">
                        <div class="flex items-center space-x-3">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M12 10.5v6m3-3H9m4.06-7.19-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z" /></svg>
                            <span class="font-semibold">Custom Songlists</span>
                        </div>
                         <svg class="w-5 h-5 text-gray-400 transform transition-transform group-open:rotate-90" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
                    </summary>
                    <ul class="pl-8 mt-2 space-y-2 text-gray-300">
                        <li><a href="#" class="block hover:text-white">Sunday Morning Mix</a></li>
                        <li><a href="#" class="block hover:text-white">Youth Camp Songs</a></li>
                        <li><a href="#" class="block hover:text-white">Christmas Special</a></li>
                        <li><button class="text-green-400 hover:text-green-300 w-full text-left mt-2">+ Add New Songlist</button></li>
                    </ul>
                </details>

                <!-- Section 2: Worship Leaders Collection -->
                <details class="group">
                    <summary class="flex items-center justify-between cursor-pointer py-2 px-3 rounded-md hover:bg-gray-700">
                        <div class="flex items-center space-x-3">
                             <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 4.5a.75.75 0 0 0-.75.75v13.5a.75.75 0 0 0 .75.75h16.5a.75.75 0 0 0 .75-.75V5.25a.75.75 0 0 0-.75-.75H3.75Z" /></svg>
                             <span class="font-semibold">Worship Leaders</span>
                        </div>
                        <svg class="w-5 h-5 text-gray-400 transform transition-transform group-open:rotate-90" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
                    </summary>
                    <ul class="pl-8 mt-2 space-y-2 text-gray-300">
                        <li><a href="#" class="block hover:text-white">Dorine</a></li>
                        <li><a href="#" class="block hover:text-white">Edwin</a></li>
                        <li><a href="#" class="block hover:text-white">Peter</a></li>
                        <li><a href="#" class="block hover:text-white">Margaret</a></li>
                        <li><a href="#" class="block hover:text-white">Esther</a></li>
                        <li><a href="#" class="block hover:text-white">Lani</a></li>
                        <li><a href="#" class="block hover:text-white">Eva</a></li>
                        <li><a href="#" class="block hover:text-white">Aaron</a></li>
                    </ul>
                </details>

                <!-- Section 3: Navigation Links to switch pages -->
                <div class="space-y-2 pt-4 border-t border-gray-700">
                     <a href="#worship-order" data-page="worship-order" class="nav-link flex items-center space-x-3 py-2 px-3 rounded-md bg-gray-900 font-bold">
                         <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0h18M-4.5 12h22.5" /></svg>
                         <span>Worship Order</span>
                     </a>
                
                     <a href="#song-finder" data-page="song-finder" class="nav-link flex items-center space-x-3 py-2 px-3 rounded-md hover:bg-gray-700">
                         <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z" /></svg>
                         <span>Song Finder</span>
                     </a>
                </div>

            </nav>
            
            <!-- Sidebar Footer -->
            <div class="p-4 border-t border-gray-700">
                <a href="#" class="flex items-center space-x-3 text-gray-400 hover:text-white">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.24-.438.613-.43.992a6.759 6.759 0 0 1 0 1.985c-.008.379.137.752.43.992l1.003.827c.424.35.534.954.26 1.431l-1.296 2.247a1.125 1.125 0 0 1-1.37.49l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.127c-.331.183-.581.495-.644.87l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.063-.374-.313-.686-.645-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.075-.124l-1.217.456a1.125 1.125 0 0 1-1.37-.49l-1.296-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.759 6.759 0 0 1 0-1.985c.008-.379-.137-.752-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.431l1.296-2.247a1.125 1.125 0 0 1 1.37-.49l1.217.456c.355.133.75.072 1.076-.124.072-.044.146-.087.22-.127.332-.183.582-.495.645-.87l.213-1.281Z" /></svg>
                    <span>Settings</span>
                </a>
            </div>
        </aside>
        <!-- END: Sidebar -->

        <!-- START: Main Content Area -->
        <div class="flex-1 flex flex-col overflow-hidden">
            <!-- This is where the page views will be swapped -->
            <div id="main-content-container" class="flex-1 overflow-x-hidden overflow-y-auto">
                <!-- VIEW 1: Worship Order Page -->
                <main id="worship-order" class="page-view p-6 md:p-10">
                    <div class="max-w-7xl mx-auto">
                        <header class="mb-8">
                            <h2 class="text-4xl font-bold text-gray-500 tracking-widest text-center uppercase">July 2025</h2>
                            <p class="text-center text-gray-500 mt-2">Worship Roster & Order of Service</p>
                        </header>
                        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
                            <div class="bg-white rounded-lg shadow-md p-5 border-t-4 border-blue-500 flex flex-col">
                                <div class="flex justify-between items-start"><h3 class="text-lg font-bold text-gray-700">Sunday - 6 July</h3><a href="#" title="Go to Worship Order" class="music-button bg-green-500 text-white p-2 rounded-full hover:bg-green-600 transition duration-300 transform hover:scale-110"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M9 9l10.5-3m0 6.553v3.75a2.25 2.25 0 0 1-1.632 2.163l-1.32.377a1.803 1.803 0 1 1-.99-3.467l2.31-.66a2.25 2.25 0 0 0 1.632-2.163Zm0 0V2.25L9 5.25v3.75M9 9l3 1.5m-3-1.5L6 9m6 3v3.75a2.25 2.25 0 0 1-1.632 2.163l-1.32.377a1.803 1.803 0 0 1-.99-3.467l2.31-.66A2.25 2.25 0 0 0 9 15m-3 0h3.75v3.75z" /></svg></a></div>
                                <div class="mt-4 flex-grow"><p class="text-sm text-gray-500">Worship Leader: <span class="font-semibold text-gray-800">Edwin</span></p><p class="text-sm text-gray-500">Theme: <span class="font-semibold text-gray-800">Grace Abounds</span></p></div>
                                <button class="mt-4 text-sm text-blue-500 hover:underline w-full text-right">View Roster</button>
                            </div>
                            <div class="bg-white rounded-lg shadow-md p-5 border-t-4 border-purple-500 flex flex-col">
                                <div class="flex justify-between items-start"><h3 class="text-lg font-bold text-gray-700">Sunday - 13 July</h3><a href="#" title="Go to Worship Order" class="music-button bg-green-500 text-white p-2 rounded-full hover:bg-green-600 transition duration-300 transform hover:scale-110"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M9 9l10.5-3m0 6.553v3.75a2.25 2.25 0 0 1-1.632 2.163l-1.32.377a1.803 1.803 0 1 1-.99-3.467l2.31-.66a2.25 2.25 0 0 0 1.632-2.163Zm0 0V2.25L9 5.25v3.75M9 9l3 1.5m-3-1.5L6 9m6 3v3.75a2.25 2.25 0 0 1-1.632 2.163l-1.32.377a1.803 1.803 0 0 1-.99-3.467l2.31-.66A2.25 2.25 0 0 0 9 15m-3 0h3.75v3.75z" /></svg></a></div>
                                <div class="mt-4 flex-grow"><p class="text-sm text-gray-500">Worship Leader: <span class="font-semibold text-gray-800">Dorine</span></p><p class="text-sm text-gray-500">Theme: <span class="font-semibold text-gray-800">He is Risen</span></p></div>
                                <button class="mt-4 text-sm text-purple-500 hover:underline w-full text-right">View Roster</button>
                            </div>
                            <div class="bg-gray-200 border-2 border-dashed border-gray-400 rounded-lg flex items-center justify-center min-h-[150px]"><p class="text-gray-500">Sunday, 20 July</p></div>
                            <div class="bg-gray-200 border-2 border-dashed border-gray-400 rounded-lg flex items-center justify-center min-h-[150px]"><p class="text-gray-500">Sunday, 27 July</p></div>
                        </div>
                        <div id="drag-drop-section" class="mt-12 p-6 bg-white rounded-lg shadow-md hidden">
                            <h3 class="text-2xl font-bold text-gray-800 mb-4">Worship Order Builder</h3>
                            <div class="flex flex-col md:flex-row gap-8"><div id="source-items" class="w-full md:w-1/3 bg-gray-50 p-4 rounded-lg border"><h4 class="font-bold mb-2">Available Items</h4><div class="p-3 bg-blue-100 text-blue-800 rounded mb-2 cursor-grab" draggable="true">Song: 10,000 Reasons</div><div class="p-3 bg-green-100 text-green-800 rounded mb-2 cursor-grab" draggable="true">Element: Welcome</div><div class="p-3 bg-yellow-100 text-yellow-800 rounded mb-2 cursor-grab" draggable="true">Element: Scripture</div><div class="p-3 bg-red-100 text-red-800 rounded mb-2 cursor-grab" draggable="true">Element: Announcements</div></div><div id="main-field" class="w-full md:w-2/3 bg-gray-200 p-4 rounded-lg border-2 border-dashed border-gray-400 min-h-[200px]"><h4 class="font-bold mb-2 text-gray-600">Worship Flow</h4><p class="text-center text-gray-500">Drop items here</p></div></div>
                        </div>
                    </div>
                </main>

                <!-- VIEW 2: Song Finder Page -->
                <main id="song-finder" class="page-view p-6 md:p-10">
                    <div class="max-w-4xl mx-auto"><div class="bg-white p-6 sm:p-8 rounded-xl shadow-lg"><div class="text-center mb-8"><h1 class="text-3xl sm:text-4xl font-bold text-gray-800">Song Finder</h1><p class="text-gray-500 mt-2">Search our database for songs by keyword or tempo.</p></div><div class="flex flex-col sm:flex-row gap-4 mb-6"><input type="text" id="keywordSearch" placeholder="Enter keyword (title, artist, lyrics)..." class="flex-grow p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition"><select id="tempoFilter" class="p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition"><option value="">All Tempos</option><option value="Slow">Slow</option><option value="Medium">Medium</option><option value="Fast">Fast</option></select><button id="searchButton" class="bg-blue-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-blue-700 transition duration-300 shadow-md">Search</button></div><div id="songResults" class="space-y-4"><p class="no-results-message text-center text-gray-500 py-8" style="display: none;">No songs found. Try different filters.</p></div></div></div>
                </main>
            </div>
        </div>
        <!-- END: Main Content Area -->
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            
            // --- DATA: Sample Song Database ---
            const allSongs = [
                { title: "Great Are You Lord", artist: "All Sons & Daughters", lyricsSnippet: "It's Your breath in our lungs...", tempo: "Slow", key: "G" },
                { title: "10,000 Reasons", artist: "Matt Redman", lyricsSnippet: "Bless the Lord, O my soul...", tempo: "Medium", key: "G" },
                { title: "This Is Amazing Grace", artist: "Phil Wickham", lyricsSnippet: "This is amazing grace...", tempo: "Medium", key: "Bb" },
                { title: "What A Beautiful Name", artist: "Hillsong Worship", lyricsSnippet: "What a beautiful Name it is...", tempo: "Slow", key: "D" },
                { title: "Raise a Hallelujah", artist: "Bethel Music", lyricsSnippet: "I raise a hallelujah...", tempo: "Fast", key: "Db" },
                { title: "Good Good Father", artist: "Chris Tomlin", lyricsSnippet: "You're a good good Father...", tempo: "Medium", key: "A" },
                { title: "King of My Heart", artist: "Steffany Gretzinger, Jeremy Riddle", lyricsSnippet: "You are good, You're good...", tempo: "Slow", key: "G" },
                { title: "Glorious Day", artist: "Passion", lyricsSnippet: "You called my name...", tempo: "Fast", key: "D" }
            ];

            // --- MOBILE SIDEBAR LOGIC ---
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const sidebar = document.getElementById('sidebar');

            mobileMenuButton.addEventListener('click', () => {
                sidebar.classList.toggle('-translate-x-full');
            });

            // --- PAGE NAVIGATION LOGIC ---
            const navLinks = document.querySelectorAll('.nav-link');
            const pageViews = document.querySelectorAll('.page-view');

            function switchPage(pageId) {
                pageViews.forEach(view => {
                    view.style.display = view.id === pageId ? 'block' : 'none';
                });
                navLinks.forEach(link => {
                    if (link.dataset.page === pageId) {
                        link.classList.add('bg-gray-900', 'font-bold');
                        link.classList.remove('hover:bg-gray-700');
                    } else {
                        link.classList.remove('bg-gray-900', 'font-bold');
                        link.classList.add('hover:bg-gray-700');
                    }
                });
                // Update URL hash
                window.location.hash = pageId;
                // Close sidebar on mobile after navigation
                if (window.innerWidth < 768) {
                    sidebar.classList.add('-translate-x-full');
                }
            }

            navLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const pageId = link.dataset.page;
                    switchPage(pageId);
                });
            });

            // Initial page load check
            const initialPage = window.location.hash.substring(1) || 'worship-order';
            switchPage(initialPage);

            // --- WORSHIP ORDER PAGE LOGIC ---
            const musicButtons = document.querySelectorAll('.music-button');
            const dragDropSection = document.getElementById('drag-drop-section');
            musicButtons.forEach(button => {
                button.addEventListener('click', (e) => {
                    e.preventDefault();
                    if (dragDropSection) {
                        dragDropSection.classList.toggle('hidden');
                        if (!dragDropSection.classList.contains('hidden')) {
                           dragDropSection.scrollIntoView({ behavior: 'smooth', block: 'center' });
                        }
                    }
                });
            });

            // --- SONG FINDER PAGE LOGIC ---
            const keywordInput = document.getElementById('keywordSearch');
            const tempoFilterSelect = document.getElementById('tempoFilter');
            const searchButton = document.getElementById('searchButton');
            const songResultsDiv = document.getElementById('songResults');
            const noResultsMessage = document.querySelector('.no-results-message');

            function displaySongs(songsToDisplay) {
                songResultsDiv.innerHTML = ''; 
                if (songsToDisplay.length === 0) {
                    noResultsMessage.style.display = 'block';
                } else {
                    noResultsMessage.style.display = 'none';
                    songsToDisplay.forEach(song => {
                        const songElement = document.createElement('div');
                        songElement.className = 'song-item bg-gray-50 border border-gray-200 p-4 rounded-lg hover:shadow-md hover:border-blue-300 transition';
                        songElement.innerHTML = `<h3 class="text-xl font-bold text-blue-700">${song.title}</h3><p class="text-md text-gray-600"><strong>Artist:</strong> ${song.artist}</p><p class="text-sm text-gray-500 italic my-2">"${song.lyricsSnippet}"</p><div class="mt-2"><span class="inline-block bg-blue-100 text-blue-800 text-xs font-semibold mr-2 px-2.5 py-0.5 rounded-full">Tempo: ${song.tempo}</span><span class="inline-block bg-green-100 text-green-800 text-xs font-semibold mr-2 px-2.5 py-0.5 rounded-full">Key: ${song.key}</span></div>`;
                        songResultsDiv.appendChild(songElement);
                    });
                }
                songResultsDiv.appendChild(noResultsMessage);
            }

            function filterAndDisplaySongs() {
                const keyword = keywordInput.value.toLowerCase().trim();
                const selectedTempo = tempoFilterSelect.value;
                const filteredSongs = allSongs.filter(song => {
                    const matchesKeyword = keyword === '' || song.title.toLowerCase().includes(keyword) || song.artist.toLowerCase().includes(keyword) || song.lyricsSnippet.toLowerCase().includes(keyword);
                    const matchesTempo = selectedTempo === '' || song.tempo === selectedTempo;
                    return matchesKeyword && matchesTempo;
                });
                displaySongs(filteredSongs);
            }

            if (searchButton) { searchButton.addEventListener('click', filterAndDisplaySongs); }
            if (keywordInput) { keywordInput.addEventListener('keyup', (event) => { if (event.key === 'Enter') { filterAndDisplaySongs(); } }); }
            
            filterAndDisplaySongs();
        });
    </script>

</body>
</html>
